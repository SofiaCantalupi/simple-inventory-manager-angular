<form class="product-form" [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <h2>{{ isEditMode ? 'Update Product' : 'Add a new product:' }}</h2>

  @if (isEditMode) {
  <div class="edit-notice">
    Editing <strong>{{ selectedProduct()?.name }}</strong>
  </div>
  }

  <div>
    <label for="name">Name:</label>
    <input
      formControlName="name"
      type="text"
      name="name"
      id="name"
      placeholder="Enter name..."
      required
    />
  </div>

  <div>
    <label for="price">Price:</label>
    <input
      formControlName="price"
      type="number"
      name="price"
      id="price"
      min="0"
      placeholder="Enter price..."
      required
    />
  </div>

  <div>
    <label for="stock">Stock:</label>
    <input
      formControlName="stock"
      type="number"
      name="stock"
      id="stock"
      min="0"
      placeholder="Enter stock..."
      required
    />
  </div>

  <div>
    <label for="photo">URL photo:</label>
    <input
      formControlName="photo"
      type="url"
      name="photo"
      id="photo"
      placeholder="Enter URL photo..."
      required
    />
  </div>

  <div>
    <label for="categoryId">Category:</label>
    <select formControlName="categoryId" id="category">
      <option value="0">Select a category</option>
      @for(category of categories(); track category.id){
        <option [value]="category.id">{{ category.name }}</option>
      }
    </select>
  </div>

  <div>
  <label for="supplier">Supplier:</label>
  <select id="supplier" formControlName="supplierId">
    <option value="0">Select a supplier</option>
    @for (supplier of suppliers(); track supplier.id) {
      <option [value]="supplier.id">{{ supplier.name }}</option>
    }
  </select>
  </div>

  <button 
  type="submit" 
  [disabled]="!productForm.valid"
  [class.btn-update]="isEditMode"
  [class.btn-delete]="!isEditMode"
  >
  {{ isEditMode ? 'Update' : 'Add'}}
</button>
</form>


<!-- @if (isEditMode) {
      <button 
        type="button" 
        (click)="onCancel()"
        class="btn-cancel"
      >
        ‚ùå Cancel
      </button>
    } -->
